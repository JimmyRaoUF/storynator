<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
	<style type="text/css" media="screen">
		@import url(https://fonts.googleapis.com/css?family=Anonymous+Pro:400,700);

		@keyframes error {
			00% {transform: translateX(0);}
			33% {transform: translateX(1em);}
			66% {transform: translateX(-1em);}
			100% {transform: translateX(0);}
		}
		@keyframes drop {
			00% {transform: scale(1);}
			25% {transform: scale(0.97);}
			50% {transform: scale(1);}
			75% {transform: scale(0.99);}
			100% {transform: scale(1);}
		}
		@keyframes reveal {
			from {opacity: 0;}
			to {opacity: 1;}
		}

		body {
			padding: 0;
			margin: 0;
			box-sizing: border-box;
			font: 400 11px/1.25 "Anonymous Pro";
		}
		body.changed::before {
			content: "There is unsaved modifications";
			display: block;
			background: white;
			position: fixed;
			right: 0;
			margin: .5em;
			z-index: 999;
			padding: .5em 1em;
			font-family: Lato,Helvetica,Arial,sans-serif;
			line-height: 1.467;
			color: #bdc3c7;
			border: 1px solid #bdc3c7;
			border-radius: 6px;
		}
		.story {
			counter-reset: scene shot -1 shot-total frame frame-total;
			padding: 1em 1%;
		}

		/* 
		 *
		 * HEADER
		 *
		*/

		.header {
			position: fixed;
			background: #fff;
			top: 0;
			right: 0;
			left: 0;
			z-index: 999;
			box-shadow: 0 0 1px;
			padding: .5em;
			overflow: auto;
		}
		.header.static {
			position: static;
			box-shadow: none;
		}
		.header * {
			margin: 0;
			padding: 0;
			display: inline-block;
		}
		.header h1 {
			padding: .25em .5em;
		}
		.header ul {
			float: right;
			margin: 1.1em 0;
		}
		.header .btn {
			padding: 0 1em;
		}
		.toggle::before {
			font-weight: 300;
			padding-right: .5em;
		}
		.toggle.off::before {
			content: "☐";
		}

		/* 
		 *
		 * SCENES
		 *
		*/

		.story .scenes,
		.story .scenes ul {
			margin: 0;
			padding: 0;
			list-style: none;
		}
		.story .scenes {
			padding: 3em 0;
		}
		.scene,
		.add-scene {
			position: relative;
			clear: both;
			counter-reset: shot;
			counter-increment: scene;
		}
		.scene-header,
		.add-scene  {
			position: relative;
			min-height: 2.75em;
			border-radius: 3px;
			margin: 1em;
			padding: 1em;
			box-sizing: border-box;
		}
		.add-scene {
			border: 1px solid #ccc;
		}
		.scene.dragged {
			border: 2px solid #005249;
		}
		.scene.dragged .management {
			display: none;
		}
		.scene-title {
			display: inline-block;
			padding: .5em;
			margin: 0 4.5em 0 0;
			font-size: 13px;
			font-weight: 700;
		}
		.scene-overview {
			max-width: 40em;
			margin: 0 1.5em 0 0;
			padding: .25em .5em .75em;
		}
		.scene-handle {
			border: .8em dotted #00796B;
			background: #005249;
			position: absolute;
			top: -1px; bottom: -1px;
			left: -1.4em;
			border-radius: .6em 0 0 .6em;
		}
		.scene-delete {
			padding: .5em;
			right: -3em;
		}
		.scene-close {
			position: absolute;
			right: .25em;
			top: 0; bottom: 0;
			display: flex;
			flex: 1;
			align-items: center;
			justify-content: center;
			color: #ccc;
			cursor: pointer;
			font-size: 2em;
			-webkit-user-select: none;  
			-moz-user-select: none;    
			-ms-user-select: none; 
			user-select: none;
		}

		.scene-header {
			display: flex;
			flex-direction: row;
		}
		.scene-header_content {
			flex: 1;
			position: relative;
			border: 1px solid #ccc;
			border-left-width: .5em;
			padding: .25em 1em;
		}
		.hidenumbers.hidetexts.hidemanagement .scene-header_content {
			border: 0;
		}
		.scene-header_content::before {
			font-weight: 700;
			position: absolute;
			top: 0; bottom: 0;
			margin: 0;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		.scene-header_content::before {
			content: "SCENE "counter(scene, decimal-leading-zero);
			right: 2em;
		}
		.scene-header_buttons {
			display: flex;
		}
		.scene-header_buttons .btn {
			display: flex;
			flex: 1;
			align-items: center;
			justify-content: center;
			font-size: 1.5em;
			border: 1px solid #ccc;
			border-radius: 3px;
			padding: .5em;
			margin: 0 0 0 .5em;
		}

		/* 
		 *
		 * FRAMES
		 *
		*/

		.frames {
			display: flex;
			flex-flow: row wrap;
			overflow: hidden;
			transition: height .2s ease;
		}
		.frames:empty {
			border: 1px dashed #ccc;
		}
		.frames:empty::before {
			content: "empty";
			color: #777;
			width: 100%;
			padding: 1em;
			text-align: center;
		}
		.closed .frames {
			height: 0;
			min-height: 0;
			border: 0;
		}
		.frame {
			box-sizing: border-box;
			float: left;
			display: inline-block;
			position: relative;
		}
		/* sizing */
		.col {
			margin: .5% 0 1.5em;
			padding: 0 .5%;
			width: 25%;
			transition: all .15s ease;
		}
		.overview .col {
			margin-top: .25%;
			padding: 0 .25%;
			width: 12.5%;
		}
		.overview .col.scene-header {
			width: 25%;
		}
		.frame.ispano {
			width: 100% !important;
		}
		.overview .frame.ispano {
			width: 100% !important;
		}
		@media only screen and (max-width : 1900px) {
			.overview .col.scene-header,
			.col.scene-header {
				width: 33.33%;
			}
		}
		@media only screen and (max-width : 1500px) {
			.col {
				margin-top: 1%;
				padding: 0 1%;
				width: 33.33%;
			}
			.overview .col {
				margin-top: .5%;
				padding: 0 .5%;
				width: 16.65%;
			}
			.overview .col.scene-header,
			.col.scene-header {
				width: 50%;
			}
		}
		@media only screen and (max-width : 1000px) {
			.col {
				width: 50%;
			}
			.overview .col {
				width: 25%;
			}
			.overview .col.scene-header,
			.col.scene-header {
				width: 100%;
			}
		}
		@media only screen and (max-width : 600px) {
			.col {
				width: 100%;
			}
			.overview .col {
				width: 50%;
			}
			.scene-title {
				margin: 0;
			}
			.scene-header_content::before {
				position: static;
				padding-top: .5em;
			}
		}

		/* numbers */
		.frame {
			counter-reset: frame 1;
			counter-increment: shot shot-total frame-total;
		}
		.frame+.frame.sameshot {
			counter-reset: none;
			counter-increment: shot-total frame frame-total;
		}
		.frame-nbr {
			position: relative;
    		padding: 0 1em;
			font: 300 .7em arial;
			color: #A0A0A0;
		}
		.frame-nbr::before,
		.frame-nbr::after {
			position: absolute;
			padding: .75em 1.5em;
		}
		.frame-nbr::before {
			left: 0;
			content: counter(shot-total, decimal-leading-zero);
		}
		.frame + .sameshot .frame-nbr::before {
			content: none;
		}
		.frame-nbr::after {
			right: 0;
			content: " scene "counter(scene, decimal-leading-zero)
					 " SHOT "counter(shot, decimal-leading-zero);
		}
		.frame + .sameshot .frame-nbr::after {
			content: "("counter(frame)")";
		}
		/* cuts indicators */
		.frame .frame-img::before {
			content: " ";
			position: absolute;
			top: 50%; bottom: 50%;
			left: -10%; width: 20%;
			background: transparent;
			z-index: -1;
			transition: all .2s ease;
		}
		.frame+.frame.sameshot .frame-img::before {
			top: 0; bottom: 0;
			background: #9c9c9c;
		}
		.frame.dragged .frame-img::before {
			content: none;
		}
		.frame:first-child .btn-sameshot {
			display: none;
		}
		/* frame content */
		.frame-img {
			position: relative;
			line-height: 0;
			box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
		}
		.frame-img img {
			width: 100%;
			transition: all .1s ease;
			z-index: 1;
		}
		.frame-img img.dragenter {
			outline: 1em solid #00796B;
			outline-offset: -1em;
		}
		.frame.dropped {
			animation: drop .4s ease-in-out;
		}
		.frame.notimage {
			animation: error .2s;
		}
		.frame-text {
			position: relative;
			padding: 1em;
			line-height: 1.3;
			box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
			background: #FBFBFB;
			font-size: 13px;
			z-index: 2;
		}
		.overview .frame-text {
			font-size: 11px;
		}
		.frame-text p,
		.frame-text div {
			padding: .5em 0;
		}
		/* switches */
		.nomanagement .management {
			display: none;
		}
		.management {
			max-height: 10em;
			opacity: 1;
			visibility: visible;
			transition: max-height .2s ease, opacity .2s ease, visibility 0 .2s linear;
		}
		.hidemanagement .management {
			max-height: 0;
			opacity: 0;
			visibility: hidden;
		}
		.overlay {
			animation: reveal .2s;
		}
		.frame {
			animation: reveal .2s;
			transition: all .2s ease;
		}
		.frame.remove {
			min-width: 0;
			width: 0;
			opacity: 0;
		}
		.scene-header::before,
		.scene-overview,
		.frame-text,
		.frame-nbr {
			max-height: 15em;
			opacity: 1;
			transition: all .2s ease;
		}
		.hidetexts .scene-overview,
		.hidetexts .frame-text,
		.hidenumbers .frame-nbr,
		.hidenumbers .scene-header_content::before {
			opacity: 0;
			max-height: 0;
			padding-top: 0;
			padding-bottom: 0;
			margin-top: 0;
			margin-bottom: 0;
		}

		/* 
		 *
		 * BUTTONS
		 *
		*/

		.btn,
		.btn:visited {
			text-transform: frame;
			cursor: pointer;
			text-decoration: none;
			color: #00796B;
			font-weight: 700;
			font-size: 1.2em;
			-webkit-user-select: none;  
			-moz-user-select: none;    
			-ms-user-select: none; 
			user-select: none;
		}
		.btn:hover {
			color: #FF5722;
		}
		.overlay {
			position: absolute;
			right: 0; left: 0;
			top: 0; bottom: 0;
			background: rgba(255,255,255,.6);
			display: flex;
			flex-flow: row-reverse wrap;
			align-items: center;
			z-index: 999;
			font-size: 2em;
		}
		.overlay .btn {
			font-weight: 300;
			text-align: center;
			flex: 1;
		}
		.add {
			display: flex;
			align-items: center;
			justify-content: center;
		}

		/* 
		 *
		 * ICONS & TEXTS
		 *
		*/

		.toggle::before {
			content: "☑";
		}
		.toggle.off::before {
			content: "☐";
		}
		.add-scene::after {
			content: "Add a new scene";
		}
		.add-frame::after {
			content: "+>";
		}
		.add-frame-before::after {
			content: "<+";
		}
		.scene-close::after {
			content: "▴";
		}
		.scene.closed .scene-close::after {
			content: "▾";
		}
		.toggle-scenes::after {
			content: "▾ Open all scenes";
		}
		.toggle-scenes.close::after {
			content: "▴ Close all scenes";
		}
		.scene-delete::after,
		.overlay .delete::after {
			content: "✕";
		}
		.overlay .btn-pano::after {
			content: "⇔";
		}
		.frame.ispano .btn-pano::after {
			content: "⇐⇒";
		}
		.overlay .btn-sameshot::after {
			content: "--";
		}
		.frame.sameshot .btn-sameshot::after {
			content: "||";
		}
	</style>
</head>
<body>
	<header class="header">
		<div class="header-title" contenteditable="true"><h1>Storyboard</h1></div>
		<ul>
			<li><div class="btn toggle management" data-toggle="hidemanagement">Manage</div></li>
			<li><div class="btn toggle" data-toggle="hidetexts">Texts</div></li>
			<li><div class="btn toggle" data-toggle="hidenumbers">Numbers</div></li>
			<li><div class="btn toggle off" data-toggle="overview">Overview</div></li>
			<li><a class="btn" href="https://github.com/nliautaud/storynator" target="_blank">Github</a></li>
		</ul>
	</header>
	<div class="story">
		<div class="btn toggle-scenes close"></div>
		<ul class="scenes sortable" data-sortable-id="0" aria-dropeffect="move"></ul>
		<div class="btn add add-scene col management"></div>
	</div>
	<script id="template" type="text/x-custom-template">
	<li class="scene">
		<header class="scene-header col">
			<div class="scene-header_content">
				<h1 class="scene-title" contenteditable="true">Title</h1>
				<p class="scene-overview" contenteditable="true">Overview</p>
				<div class="scene-handle management"></div>
				<div class="scene-close"></div>
			</div>
			<div class="scene-header_buttons management">
				<div class="btn scene-delete"></div>
				<div class="btn add-frame-before"></div>
				<div class="btn add-frame"></div>
			</div>
		</header>
		<ul class="frames sortable connected"><!--
			--><li class="frame col">
				<div class="frame-img">
					<img src="data:image/gif;base64,R0lGODlhEAAJAKIAAMzMzJaWlrGxsaOjo76+vpycnMXFxaqqqiwAAAAAEAAJAAADCwi63P4wykmrvRgmADs=">
				</div>
				<div class="frame-text" contenteditable="true">caption</div>
				<div class="frame-nbr"></div>
			</li><!--
		--></ul>
	</li>
	</script>
	<script id="overlay-tpl" type="text/x-custom-template">
		<div class="overlay">
			<div class="btn delete"></div>
			<div class="btn btn-pano" data-toggle="ispano"></div>
			<div class="btn btn-sameshot" data-toggle="sameshot"></div>
		</div>
	</script>
	<script src="./story_files/jquery-2.1.4.min.js"></script>
	<script src="./story_files/Sortable.min.js"></script>
	<script src="./story_files/main.js"></script>
	<script charset="utf-8" async defer>

		// Interface helpers and toggles
		// management is enabled by story_files/main.js

		var story = document.querySelector('.story'),
			header = document.querySelector('.header');

		function getTarget (e) {
			e = e || window.event;
		    var targ = e.target || e.srcElement;
		    if (targ.nodeType == 3) targ = targ.parentNode; // defeat Safari bug
		    return targ;
		}

		// disable management and contenteditable.
		// are re-enabled by story_files/main.js
		document.body.className = 'nomanagement';
		// story.className += ' hidemanagement';
		// header.querySelector('.management').classList.add('off');
		var editables = document.querySelectorAll('*[contenteditable]');
		for (var i = 0; i < editables.length; i++) {
			editables[i].setAttribute("contenteditable", false);
		}

		// fixed header space
		var setHeaderSpace = function() {
			document.body.style.paddingTop = header.offsetHeight + 'px';
		};
		window.onresize = setHeaderSpace;
		window.onload = setHeaderSpace;

		// header options toggle
		document.querySelector('.header ul').onclick = function (e){
			var tgt = getTarget(e);
			tgt.classList.toggle('off');
			story.classList.toggle(tgt.dataset.toggle);
		};

		// scenes toggles
		document.querySelector('body').addEventListener('click', function(e) {
			var tgt = getTarget(e);
			if(tgt.classList.contains('scene-close')) {
				tgt.parentNode.parentNode.parentNode.classList.toggle('closed');
			}
		});
		document.querySelector('.toggle-scenes').onclick = function (e){
			var target = '.closed';
			if(this.classList.contains('close'))
				target = ':not(' + target + ')';
			var scenes = story.querySelectorAll('.scene'+target);
			this.classList.toggle('close');
			if(scenes === null) return;
			for (var i = 0; i < scenes.length; i++) {
				scenes[i].classList.toggle('closed');
			}
		};
 
	</script>
</body>
</html>